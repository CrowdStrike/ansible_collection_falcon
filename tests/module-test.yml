---
- name: Example of what modules would look like in this collection
  hosts: localhost
  connection: local
  gather_facts: no

  tasks:
  - name: Generate Authentication Credentials (access token and cloud region)
    crowdstrike.falcon.auth:
    register: falcon

  - name: Get Latest Linux sensor installer
    crowdstrike.falcon.sensor_download_info:
      auth: "{{ falcon.auth }}"
      limit: 1
      sort: "os_version|desc"
      filter: "platform:'linux'"
    register: sensor

  - name: Download Linux sensor installer
    crowdstrike.falcon.sensor_download:
      auth: "{{ falcon.auth }}"
      id: "{{ sensor.installers[0].sha256 }}"
      path: "/tmp"
      # name: "falcon-sensor.rpm"
